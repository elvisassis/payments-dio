package br.com.elvisassis.payments.exceptions.handler;import br.com.elvisassis.exception.*;import org.springframework.http.HttpStatus;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.context.request.WebRequest;import java.util.Date;@ControllerAdvicepublic class GlobalExceptionHandler {    @ExceptionHandler(Exception.class)    public ResponseEntity<ExceptionResponse> handleAll(Exception ex, WebRequest request) {        return buildResponse(HttpStatus.INTERNAL_SERVER_ERROR, ex, request);    }    @ExceptionHandler(ResourceNotFoundException.class)    public ResponseEntity<ExceptionResponse> handleNotFound(ResourceNotFoundException ex, WebRequest request) {        return buildResponse(HttpStatus.NOT_FOUND, ex, request);    }    @ExceptionHandler(RequiredObjectIsNullException.class)    public ResponseEntity<ExceptionResponse> handleRequiredObject(RequiredObjectIsNullException ex, WebRequest request) {        return buildResponse(HttpStatus.BAD_REQUEST, ex, request);    }    @ExceptionHandler(BadRequestException.class)    public ResponseEntity<ExceptionResponse> handleBadRequest(BadRequestException ex, WebRequest request) {        return buildResponse(HttpStatus.BAD_REQUEST, ex, request);    }    @ExceptionHandler(FileStorageException.class)    public ResponseEntity<ExceptionResponse> handleFileStorage(FileStorageException ex, WebRequest request) {        return buildResponse(HttpStatus.INTERNAL_SERVER_ERROR, ex, request);    }    @ExceptionHandler(FileNotFoundException.class)    public ResponseEntity<ExceptionResponse> handleFileNotFound(FileNotFoundException ex, WebRequest request) {        return buildResponse(HttpStatus.NOT_FOUND, ex, request);    }    @ExceptionHandler(InvalidJwtAuthenticationException.class)    public ResponseEntity<ExceptionResponse> handleInvalidJwt(InvalidJwtAuthenticationException ex, WebRequest request) {        return buildResponse(HttpStatus.FORBIDDEN, ex, request);    }    private ResponseEntity<ExceptionResponse> buildResponse(HttpStatus status, Exception ex, WebRequest request) {        ExceptionResponse response = new ExceptionResponse(                new Date(),                ex.getMessage(),                request.getDescription(false)        );        return new ResponseEntity<>(response, status);    }}