package br.com.elvisassis.payments.exceptions.handler;import br.com.elvisassis.payments.exceptions.BadRequestException;import br.com.elvisassis.payments.exceptions.PaymentStatusException;import br.com.elvisassis.payments.exceptions.ResourceNotFoundException;import org.springframework.http.HttpStatus;import org.springframework.http.ResponseEntity;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.context.request.WebRequest;import java.util.Date;@ControllerAdvicepublic class GlobalExceptionHandler {    @ExceptionHandler(Exception.class)    public ResponseEntity<ExceptionResponse> handleAll(Exception ex, WebRequest request) {        return buildResponse(HttpStatus.INTERNAL_SERVER_ERROR, ex, request);    }    @ExceptionHandler(ResourceNotFoundException.class)    public ResponseEntity<ExceptionResponse> handleNotFound(ResourceNotFoundException ex, WebRequest request) {        return buildResponse(HttpStatus.NOT_FOUND, ex, request);    }    @ExceptionHandler(BadRequestException.class)    public ResponseEntity<ExceptionResponse> handleBadRequest(BadRequestException ex, WebRequest request) {        return buildResponse(HttpStatus.BAD_REQUEST, ex, request);    }    @ExceptionHandler(PaymentStatusException.class)    public ResponseEntity<ExceptionResponse> handlePaymentStatus(PaymentStatusException ex, WebRequest request) {        return buildResponse(HttpStatus.BAD_REQUEST, ex, request);    }    private ResponseEntity<ExceptionResponse> buildResponse(HttpStatus status, Exception ex, WebRequest request) {        ExceptionResponse response = new ExceptionResponse(                new Date(),                ex.getMessage(),                status.value(),                request.getDescription(false)        );        return new ResponseEntity<>(response, status);    }}